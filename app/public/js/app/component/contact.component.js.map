{"version":3,"sources":["../../src/ts/app/component/contact.component.ts"],"names":[],"mappings":"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","file":"contact.component.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { AppHttp } from '../../data/app-http';\r\n\r\nimport { AppComponent } from '../../component/app.component';\r\nimport { Tool } from '../view/toolbar.view';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { UserService } from '../../service/user.service';\r\n\r\n//TODO: import models\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: \"contact\",\r\n    templateUrl: \"../template/contact.component.html\",\r\n    styles: [`\r\n        #contactSigOutput {\r\n            font-family: 'Alex Brush';\r\n            font-size: 52px;\r\n            transform: rotateZ(-5deg);\r\n            transform-origin: 0%;\r\n            color: #333;\r\n        }\r\n    `]\r\n})\r\nexport class ContactComponent implements OnInit {\r\n    title: string = '<span class=\"light\">contact</span><strong>us</strong>';\r\n\r\n    tabs = [\r\n        {\r\n            name: 'Request a Feature',\r\n            id: 'featurerequest',\r\n            icon: 'exclamation-circle'\r\n        },\r\n        {\r\n            name: 'Report a Bug',\r\n            id: 'reportbug',\r\n            icon: 'bug'\r\n        }\r\n    ];\r\n    selectedTab: string = 'featurerequest';\r\n\r\n    month: string;\r\n    day: number;\r\n    year: number;\r\n\r\n    name: string;\r\n    email: string;\r\n\r\n    featureMessage: string;\r\n\r\n    bugTryingTo: string;\r\n    bugExpectation: string;\r\n    bugReality: string;\r\n    bugSteps: string;\r\n\r\n    error: string;\r\n    errorField: string;\r\n\r\n    sending: boolean;\r\n    sent: boolean;\r\n\r\n    constructor(\r\n        private _app: AppComponent,\r\n        private router: Router,\r\n        private route: ActivatedRoute,\r\n        private http: AppHttp,\r\n        private userService: UserService\r\n    ) { }\r\n\r\n    private _tools: Tool[] = [\r\n\r\n    ]\r\n\r\n    ngOnInit(): void {\r\n        this.route.params.forEach((params: Params) => {\r\n            this.selectedTab = params['type'] || 'featurerequest';\r\n        });\r\n\r\n        this.name = this.userService.getUserName() || 'A humble user';\r\n        this.email = this.userService.getLoggedInUser().email;\r\n    }\r\n\r\n    selectTab(tab): void {\r\n        this.selectedTab = tab.id;\r\n\r\n        this._app.setPath('/app/contact/' + tab.id);\r\n\r\n        this.error = \"\";\r\n        this.errorField = \"\";\r\n    }\r\n\r\n    sendFeatureRequest(): void {\r\n        if (!this.featureMessage) {\r\n            this.error = \"We appreciate the attention, but you should actually say something.\"\r\n            this.errorField = 'message';\r\n        } else {\r\n            this.error = \"\";\r\n            this.errorField = \"\";\r\n\r\n            this.sending = true;\r\n            this._app.showLoader();\r\n            this.http.post('/api/contact/featurerequest', {\r\n                message: this.featureMessage\r\n            })\r\n                .toPromise()\r\n                .then(response => {\r\n                    this._app.hideLoader();\r\n                    this.sending = false;\r\n                    this.sent = true;\r\n                });\r\n        }\r\n    }\r\n\r\n    sendBugReport(): void {\r\n        if (!this.bugTryingTo && !this.bugExpectation && !this.bugReality && !this.bugSteps) {\r\n            this.error=\"We are truly sorry that you encountered a problem. However, you should probably give us some clue as to what it was.\";\r\n        } else {\r\n            this.error = '';\r\n\r\n            this.sending = true;\r\n            this._app.showLoader();\r\n            this.http.post('/api/contact/bugreport', {\r\n                tryingTo: this.bugTryingTo,\r\n                expectation: this.bugExpectation,\r\n                reality: this.bugReality,\r\n                steps: this.bugSteps\r\n            })\r\n                .toPromise()\r\n                .then(response => {\r\n                    this._app.hideLoader();\r\n                    this.sending = false;\r\n                    this.sent = true;\r\n                })\r\n        }\r\n    }\r\n}\r\n"]}